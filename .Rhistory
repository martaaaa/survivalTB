# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
devtools::document()
install.packages("plotly")
install.packages("plotly")
devtools::document()
devtools::document()
devtools::check()
devtools::install()
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
devtools::document()
install.packages("Icens")
install.packages("icensBKL")
install.packages("icensmis")
tbdata <- TNBintervals(left, right, nboot = 10)
install.packages("Icens")
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
tbdata <- TNBintervals(left, right, nboot = 10)
install.packages("Icens")
library(Icens)
install.packages("C:/Users/marta/Downloads/Icens_1.24.0.tar.gz", repos = NULL, type = "source")
library(Icens)
library(survival)
library(Icens)
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
est <- TNBsurvival(data=tbdata, times=times, conf=FALSE);est
est <- TNBsurvival(data=tbdata, times=times, conf=TRUE, conf.level = 0.9); est
plot.TB(tbdata, conf=TRUE, conf.level=0.95)
windows()
plot.TB(tbdata, conf=TRUE, conf.level=0.95, line.width = c(2,0,0), add.legend = TRUE)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95, showlegend =FALSE)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
install.packages("magrittr")
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
install.packages("dplyr")
library(dplyr)
library(survival)
library(Icens)
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
est <- TNBsurvival(data=tbdata, times=times, conf=FALSE);est
est <- TNBsurvival(data=tbdata, times=times, conf=TRUE, conf.level = 0.9); est
plot.TB(tbdata, conf=TRUE, conf.level=0.95)
library(TNBsurvival)
plot.TB(tbdata, conf=TRUE, conf.level=0.95)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
devtools::document()
library(magrittr)
library(dplyr)
library(survival)
library(Icens)
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
est <- TNBsurvival(data=tbdata, times=times, conf=FALSE);est
est <- TNBsurvival(data=tbdata, times=times, conf=TRUE, conf.level = 0.9); est
plot.TB(tbdata, conf=TRUE, conf.level=0.95)
windows()
plot.TB(tbdata, conf=TRUE, conf.level=0.95, line.width = c(2,0,0), add.legend = TRUE)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95, showlegend =FALSE)
devtools::document()
devtools::load_all()
library(magrittr)
library(dplyr)
library(survival)
library(Icens)
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
est <- TNBsurvival(data=tbdata, times=times, conf=FALSE);est
est <- TNBsurvival(data=tbdata, times=times, conf=TRUE, conf.level = 0.9); est
plot.TB(tbdata, conf=TRUE, conf.level=0.95)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
devtools::install()
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
library(TNBsurvival)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
devtools::load_all()
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
library(TNBsurvival)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
devtools::document()
devtools::load_all()
library(magrittr)
library(dplyr)
library(survival)
library(Icens)
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
library(plotly)
library(ggplot2)
remove.packages(c("ggplot2", "plotly"))
remove.packages(c("ggplot2", "plotly"))
install.packages("ggplot2", type = "source")
install.packages("plotly", type = "source")
library(magrittr)
library(dplyr)
library(survival)
library(Icens)
library(ggplot2)
library(plotly)
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
est <- TNBsurvival(data=tbdata, times=times, conf=FALSE);est
est <- TNBsurvival(data=tbdata, times=times, conf=TRUE, conf.level = 0.9); est
plot.TB(tbdata, conf=TRUE, conf.level=0.95)
devtools::load_all()
library(magrittr)
library(dplyr)
library(survival)
library(Icens)
library(ggplot2)
library(plotly)
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
est <- TNBsurvival(data=tbdata, times=times, conf=FALSE);est
est <- TNBsurvival(data=tbdata, times=times, conf=TRUE, conf.level = 0.9); est
plot.TB(tbdata, conf=TRUE, conf.level=0.95)
plot.TB(tbdata, conf=TRUE, conf.level=0.95, line.width = c(2,0,0), add.legend = TRUE)
# Example data 2
left <- c(2, 2, 6, 2, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
est <- TNBsurvival(data=tbdata, times=times, conf=FALSE);est
est <- TNBsurvival(data=tbdata, times=times, conf=TRUE, conf.level = 0.9); est
plot.TNB(tbdata)
plot.TB(tbdata)
plot.TNB(tbdata,  conf=TRUE, conf.level=0.95)
plot.TB(tbdata,  conf=TRUE, conf.level=0.95)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95, showlegend =FALSE)
devtools::document()
devtools::load_all()
devtools::check()
devtools::document()
devtools::check()
result <- .process_single_run(left, right)
result
devtools::document()
devtools::check()
devtools::document()
devtools::load_all()
ls("package:TNBsurvival")
devtools::check()
devtools::load_all()
plot.TB(tbdata, conf=TRUE, conf.level=0.95, line.width = c(2,0,0), add.legend = TRUE)
left <- c(2, 4, 6, 8)
right <- c(4, 6, 8, NA)
intervals <- TNBintervals(left, right, nboot = 10)
plot.TB(intervals, conf = TRUE, conf.level = 0.95)
devtools::document()
devtools::load_all()
devtools::check()
devtools::install()
devtools::check()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::load_all()
devtools::check()
devtools::document()
devtools::load_all()
devtools::install()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
packageVersion("plotly")
devtools::document()
devtools::check()
devtools::document()
devtools::check()
plot.TB(tbdata, conf=TRUE, conf.level=0.95)
library(magrittr)
library(dplyr)
library(survival)
library(Icens)
library(ggplot2)
library(plotly)
library(TNBsurvival)
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
result <- .process_single_run(left, right)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
est <- TNBsurvival(data=tbdata, times=times, conf=FALSE);est
est <- TNBsurvival(data=tbdata, times=times, conf=TRUE, conf.level = 0.9); est
plot(tbdata)
plot(tbdata, conf=TRUE, conf.level=0.95)
class(tbdata)
plot.TB(tbdata, conf=TRUE, conf.level=0.95)
class(tbdata) <- "TB"
plot(tbdata, conf=TRUE, conf.level=0.95)
devtools::document()
devtools::load_all()
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
result <- .process_single_run(left, right)
tbdata <- TNBintervals(left, right, nboot = 10)
times <- c(1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 6, 8, 7)
est <- TNBsurvival(data=tbdata, times=times, conf=FALSE);est
est <- TNBsurvival(data=tbdata, times=times, conf=TRUE, conf.level = 0.9); est
class(tbdata)
class(est)
plot(est, conf=TRUE, conf.level=0.95)
plot(tbdata, conf=TRUE, conf.level=0.95)
class(tbdata) <- "TB"
tbdata
devtools::document()
devtools::load_all()
# Example data
left <- c(4, 2, 6, 4, 2, 6, 6, 6, 2, 6)
right <- c(6, 4, NA, 6, NA, 8, 8, NA, 6, 8)
result <- .process_single_run(left, right)
tbdata <- TNBintervals(left, right, nboot = 10)
plot(tbdata, conf=TRUE, conf.level=0.95)
plot.TBL(tbdata, conf=TRUE, conf.level=0.95)
devtools::check()
usethis::use_mit_license("Marta Azevedo")
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
Sys.timezone()
Sys.time()
Sys.setenv(TZ = "UTC")
devtools::check()
usethis::use_testthat()
usethis::use_test("TNBintervals")
usethis::use_test("test-process_single_run")
usethis::use_test("process_single_run")
usethis::use_test("single_TNBsurvival")
usethis::use_test("plot")
devtools::document()
devtools::document()
devtools::load_all()
left <- c(1, 2, 3)
right <- c(2, 4)  # Menos elementos
expect_error(
TNBsurvival:::.process_single_run(left, right),
regexp = "some meaningful error message or 'unequal length'"
)
TNBsurvival:::.process_single_run(left, right)
devtools::document()
devtools::load_all()
TNBsurvival:::.process_single_run(left, right)
expect_error(
TNBsurvival:::.process_single_run(left, right),
regexp = "some meaningful error message or 'unequal length'"
)
devtools::document()
devtools::document()
# Load the TNBsurvival package
library(TNBsurvival)
# Path to the bcINTV.csv file
file_path <- "Transferências/bcINTV.csv"
file_path
bc_data
bc_data <- read.csv(file_path)
file_path <- "Transferências\bcINTV.csv"
bc_data <- read.csv(file_path)
file_path <- "C:/Transferências/bcINTV.csv"
bc_data <- read.csv(file_path)
# Check the first few rows to ensure the file was loaded correctly
print(head(bc_data))
file_path <- "C:/Users/marta/Documents/pessoal/Doutoramento/repos/bcINTV.csv"
bc_data <- read.csv(file_path)
left <- bc_data$left
right <- bc_data$right
# Run the TNBintervals function
intervals <- TNBsurvival::TNBintervals(left, right, nboot = 10)
left <- bc_data$left_rec
left <- bc_data$left_rec
right <- bc_data$right_rec
times <- bc_data$totaltime
# Run the TNBintervals function
intervals <- TNBsurvival::TNBintervals(left, right, nboot = 10)
left <- as.numeric(bc_data$left_rec)
right <- as.numeric(bc_data$right_rec)
times <- bc_data$totaltime
# Run the TNBintervals function
intervals <- TNBintervals(left, right, nboot = 10)
left <- c(2, 4, 6, 8)
right <- c(4, 6, 8, NA)
intervals <- TNBintervals(left, right, nboot = 10)
left <- bc_data$left_rec
right <- bc_data$right_rec
times <- bc_data$totaltime
# Run the TNBintervals function
intervals <- TNBintervals(left, right, nboot = 10)
left <- c(2, 4, 6, 8)
right <- c(4, 6, 8, NA)
!is.numeric(left) || !is.numeric(right)
left <- bc_data$left_rec
right <- bc_data$right_rec
times <- bc_data$totaltime
# Run the TNBintervals function
!is.numeric(left) || !is.numeric(right)
str(bc_data)
left <- as.numeric(bc_data$left_rec)
right <- as.numeric(bc_data$right_rec)
times <- as.numeric(bc_data$totaltime)
bc_data$left <- as.numeric(bc_data$left_rec)
bc_data$right <- as.numeric(bc_data$right_rec)
left <- as.numeric(bc_data$left_rec)
right <- as.numeric(bc_data$right_rec)
times <- as.numeric(bc_data$totaltime)
str(left)
str(righ)
str(right)
left
str(bc_data)
left <- as.numeric(bc_data$left_rec)
bc_data$left <- as.numeric(bc_data$left)
bc_data$right <- as.numeric(bc_data$right)
library(TNBsurvival)
file_path <- "C:/Users/marta/Documents/pessoal/Doutoramento/repos/bcINTV.csv"
bc_data <- read.csv(file_path)
str(bc_data)
bc_data$left_rec <- as.numeric(bc_data$left_rec)
bc_data$right_rec <- as.numeric(bc_data$right_rec)
str(bc_data)
problematic_rows <- which(is.na(bc_data$left_rec) & !is.na(as.character(bc_data$left_rec)))
print(bc_data[problematic_rows, ])
file_path <- "C:/Users/marta/Documents/pessoal/Doutoramento/repos/bcINTV.csv"
bc_data <- read.csv(file_path)
str(bc_data)
problematic_rows <- which(is.na(bc_data$left_rec) & !is.na(as.character(bc_data$left_rec)))
print(bc_data[problematic_rows, ])
class(bc_data)
bc_data$left_rec
bc_data$left_rec[1]
bc_data <- read.csv(file_path, sep = ';')
class(bc_data)
bc_data$left_rec
bc_data$left_rec <- as.numeric(bc_data$left_rec)
bc_data$right_rec <- as.numeric(bc_data$right_rec)
bc_data$times <- as.numeric(bc_data$totaltime)
bc_data$status <- as.numeric(bc_data$status)
str(bc_data)
left <- bc_data$left_rec
right <- bc_data$right_rec
# Run the TNBintervals function
intervals <- TNBintervals(left, right, nboot = 10)
# ERROR: Each value in 'left' must be strictly less than the corresponding value in 'right'.
invalid_pairs <- which(left >= right)
print(data.frame(left = left[invalid_pairs], right = right[invalid_pairs]))
invalid_pairs
#Remove this values?
# Line 116 and 201
print(bc_data[116])
bc_data[116]
bc_data[[116]]
left[116]
left[115]
#Remove this values?
# Line 116 and 201
left <- left[-invalid_pairs]
left[115]
rigth <- rigth[-invalid_pairs]
right <- right[-invalid_pairs]
# Run the TNBintervals function
intervals <- TNBintervals(left, right, nboot = 10)
# Print the original survival data
cat("Original Survival Data:\n")
print(intervals$original)
# Generate survival estimates for specific times
times <- seq(min(left), max(right), length.out = 10)
# Generate survival estimates for specific times
left <- bc_data$totaltime
left <- bc_data$left_rec
right <- bc_data$right_rec
# ERROR: Each value in 'left' must be strictly less than the corresponding value in 'right'.
# Which ones?
invalid_pairs <- which(left >= right)
print(data.frame(left = left[invalid_pairs], right = right[invalid_pairs]))
#Remove this values?
# Line 116 and 201
left <- left[-invalid_pairs]
right <- right[-invalid_pairs]
# Run the TNBintervals function
intervals <- TNBintervals(left, right, nboot = 10)
# Generate survival estimates for specific times
times <- bc_data$totaltime
survival_estimates <- single.TNBsurvival(intervals$original, times)
# Print the survival estimates
cat("Survival Estimates:\n")
print(data.frame(time = times, survival = survival_estimates))
# Visualize the survival plot (confidence bands included)
plot.TB(intervals, conf = TRUE, conf.level = 0.95)
# Visualize the survival plot (confidence bands included)
plot.TBL(intervals, conf = TRUE, conf.level = 0.95)
devtools::document()
devtools::install()
devtools::document()
devtools::install()
testthat::test_check("survivalTB")
testthat::test_dir("tests/testthat")
devtools::document()
testthat::test_dir("tests/testthat")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::install()
devtools::document()
devtools::install()
devtools::document()
devtools::document()
remove.packages("survivalTB")
devtools::document()
devtools::install()
